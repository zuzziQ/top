<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8">
<link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@600;800&display=swap" rel="stylesheet">

<style>
html, body {
  width:1920px;
  height:1080px;
  margin:0;
  background:transparent;
  overflow:hidden;
  font-family:'Be Vietnam Pro', sans-serif;
  color:#fff;
}

.container {
  width:420px;
}

/* ===== PODIUM ===== */
.podium {
  display:flex;
  justify-content:center;
  align-items:flex-end;
  gap:18px;
  margin-bottom:18px;
}

.podium-box {
  background:rgba(255,255,255,0.18);
  border-radius:18px;
  padding:14px;
  text-align:center;
  width:120px;
}

.podium-box.top1 {
  background:linear-gradient(135deg,#e53935,#ff6f60);
  transform:translateY(-18px);
}

.crown {
  font-size:38px;
  margin-bottom:4px;
  animation:float 2s infinite ease-in-out;
}

.rank {
  font-size:26px;
  font-weight:800;
}

.name {
  font-size:18px;
  font-weight:700;
}

.time {
  font-size:14px;
  opacity:.85;
}

/* ===== LIST BELOW ===== */
.list {
  margin-top:10px;
}

.row {
  display:flex;
  justify-content:space-between;
  font-size:18px;
  margin-bottom:6px;
  opacity:.9;
}

/* ===== ANIMATION ===== */
@keyframes float {
  0%,100% { transform:translateY(0); }
  50% { transform:translateY(-6px); }
}
</style>
</head>

<body>
<div class="container" id="root"></div>

<script>
/******** CONFIG ********/
const GOI_NAME = "GÃ³i 1";   // ðŸ” CHANGE THIS PER FILE
const API =
 "https://script.google.com/macros/s/AKfycbwgkMXvIQ7jmDtoc4TGya_5BTA8fbin4rmQMGWVeK-tVLMfo3gjdbAlyi79CaHwuMmW/exec";

/******** LOAD ********/
async function load() {
  const res = await fetch(API + "?type=orders&t=" + Date.now());
  const json = await res.json();
  const data = (json[GOI_NAME] || [])
    .sort((a,b)=>a.time-b.time);

  const root = document.getElementById("root");
  root.innerHTML = "";
  if (!data.length) return;

  /* ===== PODIUM 1â€“2â€“3 ===== */
  root.innerHTML += `
    <div class="podium">
      ${podiumBox(data[1], 2)}
      ${podiumBox(data[0], 1, true)}
      ${podiumBox(data[2], 3)}
    </div>
  `;

  /* ===== LIST 4+ ===== */
  let list = `<div class="list">`;
  data.slice(3).forEach((u,i)=>{
    list += `
      <div class="row">
        <span>${i+4}. ${u.name}</span>
        <span>${fmt(u.time)}</span>
      </div>
    `;
  });
  list += `</div>`;
  root.innerHTML += list;
}

function podiumBox(u, rank, isTop1=false) {
  if (!u) return "";
  return `
    <div class="podium-box ${isTop1 ? "top1":""}">
      ${isTop1 ? `<div class="crown">ðŸ‘‘</div>` : ""}
      <div class="rank">${rank}</div>
      <div class="name">${u.name}</div>
      <div class="time">${fmt(u.time)}</div>
    </div>
  `;
}

function fmt(t) {
  return new Date(t).toLocaleTimeString("vi-VN");
}

load();
setInterval(load,3000);
</script>
</body>
</html>
